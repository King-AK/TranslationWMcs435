import classes.*;

import com.google.gson.Gson;
import com.google.gson.GsonBuilder;

import java.io.*;
import java.nio.charset.StandardCharsets;


public class Main {
	private static Component comp = null;
	/*
	 * Produce a StepTestCase to later be run into the espresso (or appium) translator.
	 */
    public static Component parse() throws IOException {
        Component a = null;
        InputStream stream = new FileInputStream("./gmdice_simple.txt");
        System.out.println(stream);
        Reader reader = new InputStreamReader(stream, "UTF-8");
        try{ 
            Gson gson = new GsonBuilder().create();
            a = gson.fromJson(reader, Component.class);

            return a;
            
        } catch (Exception e){
        	System.out.println("Parsing failed. Returning null.");
            return a;
        }

    }
	
	/*
	 * pretty much calls parse.
	 */
	public static void main(String [] args){
		Component a = null;
		
        String toreturn = "Fail case";
        String testtext;
        try {
            comp = parse();
            toreturn = "Successfully parsed";
            System.out.println(comp.getId());
        } catch (IOException e) {
            e.printStackTrace();
        }
        
        System.out.printf(toreturn);
		
		return;
	}
}
